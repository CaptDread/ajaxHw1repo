{"version":3,"sources":["main.js"],"names":["ApiTest","message","messageEl","textContent","evt","preventDefault","console","log","key","document","querySelector","value","axios","get","BASE_API_URL","then","processsResponse","catch","processError","response","showMessage","data","error","messageVal","post","type","setupListeners","getForm","postForm","addEventListener","getData","postData"],"mappings":";;;;;;;;;;IAAMA,O;AAKF,qBAAc;AAAA;;AAAA;;AAAA,0CAFC,iCAED;;AAAA,yCAOA,UAACC,OAAD,EAAa;AACvB,MAAA,KAAI,CAACC,SAAL,CAAeC,WAAf,GAA6BF,OAA7B;AACH,KATa;;AAAA,qCAkBJ,UAACG,GAAD,EAAS;AACfA,MAAAA,GAAG,CAACC,cAAJ;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AAEA,UAAIC,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,cAAvB,EAAuCC,KAAjD;AACAC,MAAAA,KAAK,CAACC,GAAN,WAAa,KAAI,CAACC,YAAlB,cAAkCN,GAAlC,GAAyCO,IAAzC,CAA8C,KAAI,CAACC,gBAAnD,EAAsEC,KAAtE,CAA4E,KAAI,CAACC,YAAjF;AACH,KAxBa;;AAAA,8CAyBK,UAACC,QAAD,EAAc;AAC7Bb,MAAAA,OAAO,CAACC,GAAR,kCAA6CY,QAA7C;;AACA,MAAA,KAAI,CAACC,WAAL,CAAiB,0BAA0BD,QAAQ,CAACE,IAAT,CAAcA,IAAd,CAAmBV,KAA9D;AACH,KA5Ba;;AAAA,0CA6BC,UAACW,KAAD,EAAW;AACtBhB,MAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ,EAA6Ce,KAA7C;;AAEA,MAAA,KAAI,CAACF,WAAL,CAAiB,YAAYE,KAAK,CAACrB,OAAnC;AACH,KAjCa;;AAAA,sCAmCH,UAACG,GAAD,EAAS;AAChBA,MAAAA,GAAG,CAACC,cAAJ;AACA,UAAIG,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,cAAvB,EAAuCC,KAAjD;AACA,UAAIY,UAAU,GAAGd,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,EAA2CC,KAA5D;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,qCAAqCC,GAArC,GAA2C,IAA3C,GAAkDe,UAA9D,EAJgB,CAMhB;AACA;AACA;AACA;AACA;;AAEAX,MAAAA,KAAK,CAACY,IAAN,WAAc,KAAI,CAACV,YAAnB,cAAmCN,GAAnC,GAA0C;AACtCG,QAAAA,KAAK,YAAKY,UAAL,CADiC;AAEtCE,QAAAA,IAAI,EAAE,QAFgC;AAGtCjB,QAAAA,GAAG,YAAKA,GAAL;AAHmC,OAA1C,EAIGO,IAJH,CAIQ,UAAUI,QAAV,EAAmB;AACvBb,QAAAA,OAAO,CAACC,GAAR,CAAYY,QAAZ;AACH,OAND,EAMGF,KANH,CAMU,UAAUE,QAAV,EAAoB;AAC1Bb,QAAAA,OAAO,CAACC,GAAR,CAAYY,QAAZ;AACH,OARD;AAUH,KAzDa;;AACVb,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AAEA,SAAKL,SAAL,GAAiBO,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAAjB;AACA,SAAKgB,cAAL;AACH;;;;WAMD,0BAAiB;AACb,UAAIC,OAAO,GAAGlB,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAd;AACA,UAAIkB,QAAQ,GAAGnB,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAf;AACAiB,MAAAA,OAAO,CAACE,gBAAR,CAAyB,QAAzB,EAAmC,KAAKC,OAAxC;AACAF,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,QAA1B,EAAoC,KAAKE,QAAzC;AACH;;;;;;AA4CL,IAAI/B,OAAJ","sourcesContent":["class ApiTest {\r\n\r\n\r\n    BASE_API_URL = 'http://circuslabs.net:3000/data'\r\n\r\n    constructor() {\r\n        console.log('ApiTest()')\r\n\r\n        this.messageEl = document.querySelector('p.getMessage')\r\n        this.setupListeners()\r\n    }\r\n\r\n    showMessage = (message) => {\r\n        this.messageEl.textContent = message\r\n    }\r\n\r\n    setupListeners() {\r\n        var getForm = document.querySelector('form.get')\r\n        var postForm = document.querySelector('form.post')\r\n        getForm.addEventListener('submit', this.getData)\r\n        postForm.addEventListener('submit', this.postData)\r\n    }\r\n\r\n    getData = (evt) => {\r\n        evt.preventDefault()\r\n        console.log('retrieving data sire')\r\n\r\n        var key = document.querySelector('[name=\"key\"]').value\r\n        axios.get(`${this.BASE_API_URL}/${key}`).then(this.processsResponse ).catch(this.processError)\r\n    }\r\n    processsResponse = (response) => {\r\n        console.log(`processing response, my liege`, response)\r\n        this.showMessage('Your data, my liege: ' + response.data.data.value)\r\n    }\r\n    processError = (error) => {\r\n        console.log('there was an error, my liege.', error)\r\n\r\n        this.showMessage('Error! ' + error.message)\r\n    }\r\n\r\n    postData = (evt) => {\r\n        evt.preventDefault()\r\n        var key = document.querySelector('[name=\"key\"]').value\r\n        var messageVal = document.querySelector('[name=\"message\"]').value\r\n        console.log('Preparing to post the key data: ' + key + ': ' + messageVal)\r\n\r\n        // var objData = {\r\n        //     value: `${messageVal}`,\r\n        //     type: 'string',\r\n        //     key: `${key}`,\r\n        // }\r\n\r\n        axios.post(`${this.BASE_API_URL}/${key}`, {\r\n            value: `${messageVal}`,\r\n            type: 'string',\r\n            key: `${key}`,\r\n        }).then(function (response){\r\n            console.log(response);\r\n        }).catch (function (response) {\r\n            console.log(response)\r\n        })\r\n\r\n    }\r\n}\r\n\r\nnew ApiTest()"],"file":"main.js"}